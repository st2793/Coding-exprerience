# [1991번 트리순회 실버1](https://www.acmicpc.net/problem/1991)


## 틀린(못푼) 이유 
* 대표적인 트리순회 문제임을 인지하였으나, 어떻게 시도하는지 조차 몰랐음. 

## 문제해결 아이디어

### 개념
* 전위순회 : 루트 → 왼쪽자식 → 오른쪽자식
* 중위순회 : 왼쪽자식 → 루트 → 오른쪽자식
* 후위순회 : 왼쪽자식 → 오른쪽자식 → 루트 

### 핵심
* 전위/중위/후위순회는 재귀함수와 관련있는문제이다. 코드는 같지만, 출력순서를 어떻게 하느냐에따라 순회가 달라진다.
* 문제에서도 나와있듯, 항상 A가 루트노드가 된다.



### 알고리즘
 1. A,B...Y,Z를 아스키코드로 변환하여 하나의 index로 처리한다. 
 2. 노드의 개수만큼 배열을 만든뒤 각각의 배열값은 [루트,왼쪽자식, 오른쪽자식]의 값을 가지게한다. [[A의루트,A의왼쪽자식,A의오른쪽자식],[B의루트,B의왼쪽자식,B의오른쪽자식]...]
 3. 과정 1~2를 반복하며 전위/중위/후위 순회에 맞게 print 재귀함수를 시행한다. 

* [첫 번째 풀이](constructionRaceway1.py)

### 문제 발생 

#### 반례 테스터케이스
* 입력값: [[0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 1, 1, 1, 1, 1, 0], [1, 0, 0, 1, 0, 0, 0, 0], [1, 1, 0, 0, 0, 1, 1, 1], [
    1, 1, 1, 1, 0, 0, 0, 0], [1, 1, 1, 1, 1, 1, 1, 0], [1, 1, 1, 1, 1, 1, 1, 0], [1, 1, 1, 1, 1, 1, 1, 0]]
* 기댓값: 4500
* 실행결과: 4900

* 위 테스터케이스의 일부를 발췌한 표가 아래에 있다. 왼쪽에서 오는 경로와 오른쪽에서 오는 경로가 강조된 부분에서 만나 아래로 업데이트하는 상황이다. 위 알고리즘은 강조된 노드의 비용을 최소값 2700으로 업데이트하였다. 

...|...|...|...|...|...
:---:|:---:|:---:|:---:|:---:|:---:|
...|1400|1|2200|2100|...|
...|2000|2600|**`2700`**|1|...|
...|1|1|3300|3900|...|

* 하지만 최종 목표노드의 비용값이 최소가 되어야하므로 강조된 부분에서 2700은 2800이 되어야하고 그 밑은 2900으로 업데이트 되어야 한다.

...|...|...|...|...|...
:---:|:---:|:---:|:---:|:---:|:---:|
...|1400|1|2200|2100|...|
...|2000|2600|**`2800`**|1|...|
...|1|1|2900|3500|...|

## 개선 아이디어
* 강조된 노드의 아래 노드 2900 은 어떻게 업데이트되어야 할까? 강조된 노드가 자신에게 들어온 방향을 가지고 있고 각 방향별로 최소 비용을 가지고 있다면 이를 바탕으로 아래 노드의 최소비용값을 계산할 수 있다. 위 테스트 케이스를 예로 들자면 강조된 노드는 왼쪽에서 들어온 비용 2700과 위쪽에서 들어돈 비용 2800을 가지고 있다. 아래노드는 이 정보를 기반으로 각 비용 3300과 2900을 계산할 수 있고 이중 최솟값을 위쪽에서 들어온 비용으로 업데이트할 수 있다. 
    
### 개선 알고리즘
 1. 큐에서 노드를 꺼내 상하좌우를 살피며 맵 영역을 벗어나거나 벽이 아닌 경우, 다음 노드로 들어가는 방향을 고려하여 최소 비용값을 구한다.
 2. 다음노드가 가지고 있는 해당 방향과 그 비용값을 비교하여 더 적은 비용이면 해당방향의 비용값을 업데이트하고 bfs 큐에 추가한다.
 3. 과정 1~2를 반복하며 더 이상 방문할 노드가 없다면 목표노드의 비용을 반환합니다. 

* [개선한 두 번째 풀이](constructionRaceway2.py)

## 참고

(github 마크다운)[https://ffoorreeuunn.tistory.com/226]

https://ojt90902.tistory.com/537

https://programmers.co.kr/questions/21325

https://programmers.co.kr/questions/17381

https://programmers.co.kr/questions/11840
